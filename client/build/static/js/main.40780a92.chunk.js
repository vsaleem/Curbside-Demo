(this.webpackJsonpcurbside=this.webpackJsonpcurbside||[]).push([[0],{18:function(e,t,n){},60:function(e,t){},61:function(e,t){},62:function(e,t,n){e.exports=n(96)},67:function(e,t,n){},73:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(11),l=n.n(r),c=n(24),o=n(5);n(67);var s=function(){return i.a.createElement("div",null,i.a.createElement("nav",{className:"navbar"},i.a.createElement("a",{className:"navbar-brand",href:"/"},"CURBSIDE"),i.a.createElement("div",{className:"user-credentials"},i.a.createElement(c.b,{className:"links",to:"/signin"},"SIGN IN"),i.a.createElement(c.b,{className:"links",to:"/signup"},"SIGN UP"))))};n(73);var u=function(){return i.a.createElement("div",{className:"homepage"},i.a.createElement(s,null),i.a.createElement("h1",{className:"homepage-name"},"CURBSIDE"),i.a.createElement("h2",{className:"tag-line"},"THE EASIEST WAY TO LET GO"))};function m(e){var t=e.fluid,n=e.children;return i.a.createElement("div",{className:"container".concat(t?"-fluid":"")},n)}function d(e){var t=e.fluid,n=e.children;return i.a.createElement("div",{className:"row".concat(t?"-fluid":"")},n)}function g(e){var t=e.size,n=e.children;return i.a.createElement("div",{className:t.split(" ").map((function(e){return"col-"+e})).join(" ")},n)}n(18),n(46),n(74);var h=n(27),f=n(26);var E=function(e){return i.a.createElement("header",{className:"navigation"},i.a.createElement(f.a,{collapseOnSelect:!0,expand:"lg",bg:"custom-nav"},i.a.createElement(f.a.Brand,{href:"/"},"Curbside"),i.a.createElement(f.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),i.a.createElement(f.a.Collapse,{id:"responsive-navbar-nav"},i.a.createElement(h.a,{className:"mr-auto"},i.a.createElement(h.a.Link,{href:"/upload"},"Upload"),i.a.createElement(h.a.Link,{href:"#"}),i.a.createElement(h.a.Link,{href:"/search"},"Search")))))},p=n(19),v=n(20),b=n(22),_=n(21),S=n(25),N=n.n(S),O=function(){return N.a.get("/api/listings")},C=function(e){return N.a.delete("/api/listings/"+e)},y=function(e){return N.a.post("/api/listings",e)};var j=function(e){return i.a.createElement("form",{className:"search sticky-top"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"listings"},"search:"),i.a.createElement("input",{onChange:e.handleInputChange,value:e.value,id:"listings",type:"text",name:"search",list:"listing",className:"inputBox",placeholder:"search listings"}),i.a.createElement("button",{type:"submit",onClick:e.handleSearch,className:"btn btn-custom"},"Search")))},k=n(23),L=n(15),x=n(32);var I=function(e){Object(b.a)(n,e);var t=Object(_.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={search:"",listings:[],listingSort:[],order:""},e.sortByName=function(){var t=e.state.listingSort;if("ascending"===e.state.order){var n=t.sort((function(e,t){return e.date>t.date?1:-1}));console.log(n),e.setState({listingSort:n,order:"descending"})}else{var a=t.sort((function(e,t){return e.date>t.date?-1:1}));e.setState({listingSort:a,order:"ascending"})}},e.handleInputChange=function(t){var n=e.state.listings,a=t.target.value,i=n.filter((function(e){return e.listing_title.toLowerCase().indexOf(a.toLowerCase())>-1}));e.setState({listingSort:i})},e.listingSearch=function(){O().then((function(t){return e.setState({listingSort:t.data,listings:t.data})})).catch((function(e){return console.log(e)}))},e.handleSearch=function(t){t.preventDefault();var n=e.state,a=n.listings,i=n.search,r=(t.target.value,a.filter((function(e){return e.listing_title.toLowerCase().includes(i.toLowerCase())})));e.setState({listingSort:r})},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=this;O().then((function(t){return e.setState({listings:t.data,listingSort:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(j,{listing:this.state.listings,handleSearch:this.handleSearch,handleInputChange:this.handleInputChange}),i.a.createElement(x.a,{fluid:!0},i.a.createElement("thead",{className:""},i.a.createElement(k.a,{className:" sticky-top"},i.a.createElement(L.a,{className:"hover-pointer heading",onClick:this.sortByName},"Name"))),i.a.createElement("tbody",{className:""},this.state.listingSort.map((function(e){return i.a.createElement(k.a,{key:e._id,className:""},i.a.createElement(L.a,null,e.listing_title,"  "))})))))}}]),n}(a.Component);var A=function(){return i.a.createElement("div",{className:"App"},i.a.createElement("head",null),i.a.createElement(E,null),i.a.createElement(m,{fluid:!0},i.a.createElement(I,null)))},w=n(33),T=n(40),D=n(43);n(93);var B=function(e){return i.a.createElement("span",Object.assign({className:"delete-btn"},e,{role:"button",tabIndex:"0"}),"\u2717")};n(94);function P(e){var t=e.children;return i.a.createElement("div",{className:"list-overflow-container"},i.a.createElement("ul",{className:"list-group"},t))}function K(e){var t=e.children;return i.a.createElement("li",{className:"list-group-item"},t)}var R=n(42),U=n(59);n(58);function z(e){return i.a.createElement(R.a.Control,Object.assign({type:"text"},e))}function W(e){return i.a.createElement(U.a,Object.assign({},e,{style:{float:"right",marginBottom:10},variant:"primary"}),e.children)}var F=function(){var e=Object(a.useState)([]),t=Object(D.a)(e,2),n=t[0],r=t[1],l=Object(a.useState)({listing_title:"",listing_description:"",listing_condition:"",listing_location:""}),c=Object(D.a)(l,2),o=c[0],s=c[1];function u(){O().then((function(e){return r(e.data)})).catch((function(e){return console.log(e)}))}function h(e){var t=e.target,n=t.name,a=t.value;s(Object(T.a)(Object(T.a)({},o),{},Object(w.a)({},n,a)))}return Object(a.useEffect)((function(){u()}),[]),i.a.createElement("div",{className:"App"},i.a.createElement("head",null),i.a.createElement(E,null),i.a.createElement(m,{fluid:!0},i.a.createElement(d,null,i.a.createElement(g,{size:"md-6"},i.a.createElement("form",null,i.a.createElement(z,{onChange:h,name:"listing_title",placeholder:"listing title",value:o.listing_title}),i.a.createElement(z,{onChange:h,name:"listing_description",placeholder:"listing description",value:o.listing_description}),i.a.createElement(z,{onChange:h,name:"listing_condition",placeholder:"condition (used, new, etc.)",value:o.listing_condition}),i.a.createElement(z,{onChange:h,name:"listing_location",placeholder:"city, state",value:o.listing_location}),i.a.createElement(W,{onClick:function(e){e.preventDefault(),o.listing_title&&o.listing_location&&y({listing_title:o.listing_title,listing_description:o.listing_description,listing_condition:o.listing_condition,listing_location:o.listing_location}).then((function(){return s({listing_title:"",listing_description:"",listing_condition:"",listing_location:""})})).then((function(){return u()})).catch((function(e){return console.log(e)}))}}," Submit Listing"))),i.a.createElement(g,{size:"md-6 sm-12"},n.length?i.a.createElement(P,null,n.map((function(e){return i.a.createElement(K,{key:e._id},i.a.createElement("a",{href:"/listings/"+e._id},i.a.createElement("strong",null,e.listing_title," in ",e.listing_location)),i.a.createElement(B,{onClick:function(){return t=e._id,void C(t).then((function(e){return u()})).catch((function(e){return console.log(e)}));var t}}))}))):i.a.createElement("h3",null,"No Results to Display")))))},G=n(60),H=n.n(G),J=n(61),M=n.n(J),Y=n(31),V=n(28),q=n(41),Q=n.n(q),X=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_KEY;Q.a.setApiKey(X);var Z={width:"400px",height:"400px"},$=function(e){Object(b.a)(n,e);var t=Object(_.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={center:{lat:0,lng:0},address:""},a.setLocation=a.setLocation.bind(Object(Y.a)(a)),a}return Object(v.a)(n,[{key:"setLocation",value:function(){var e=this;Q.a.fromAddress(this.state.address).then((function(t){var n=t.results[0].geometry.location;e.setState({center:n})}),(function(e){console.error(e)}))}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(V.c,{googleMapsApiKey:X},i.a.createElement(V.b,{mapContainerStyle:Z,center:this.state.center,zoom:13},i.a.createElement(V.d,{position:this.state.center}),i.a.createElement(V.a,{center:this.state.center,radius:500}),i.a.createElement(i.a.Fragment,null))),i.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.setLocation()}},i.a.createElement(z,{onChange:function(t){e.setState({address:t.target.value})}}),i.a.createElement(W,{onClick:this.setLocation}," Submit Listing")))}}]),n}(a.Component),ee=function(e){Object(b.a)(n,e);var t=Object(_.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={},e}return Object(v.a)(n,[{key:"render",value:function(){return i.a.createElement($,null)}}]),n}(a.Component);var te=function(){return i.a.createElement(c.a,null,i.a.createElement(o.a,{exact:!0,path:["/","/homepage"],component:u}),i.a.createElement(o.a,{exact:!0,path:"/map",component:ee}),i.a.createElement(o.a,{exact:!0,path:"/search",component:A}),i.a.createElement(o.a,{exact:!0,path:"/signin",component:H.a}),i.a.createElement(o.a,{exact:!0,path:"/signup",component:M.a}),i.a.createElement(o.a,{exact:!0,path:"/upload",component:F}))};l.a.render(i.a.createElement(te,null),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.40780a92.chunk.js.map